## گزارش تغییرات سیستم رزرو (Reservation System)

### تغییرات مربوط به افزودن روش جدید پرداخت و روش جدید ارسال پیام

| ردیف | تغییرات بخش ارسال پیام | توضیح کلاس تغییر یافته | تغییرات بخش پرداخت | توضیح کلاس تغییر یافته |
|------|-------------------------|-------------------------|---------------------|--------------------------|
| 1 | تعریف MessageSender به عنوان یک اینترفیس | یک متد برای ارسال پیام در آن تعریف شده | تعریف Payment به عنوان یک اینترفیس | یک متد برای انجام پرداخت در آن تعریف شده |
| 2 | SendByEmail از MessageSender ارث‌بری کرده و متد ارسال پیام را پیاده‌سازی کرده | پیاده‌سازی ارسال پیام از طریق ایمیل | PayByPaypal از Payment ارث‌بری کرده و متد آن را پیاده‌سازی کرده | پیاده‌سازی پرداخت از طریق PayPal |
| 3 | SendByMobileNumber از MessageSender ارث‌بری کرده و متد ارسال پیام را پیاده‌سازی کرده | ارسال پیام از طریق شماره موبایل | PayByCash از Payment ارث‌بری کرده و متد آن را پیاده‌سازی کرده | پرداخت نقدی |
| 4 | افزودن ارسال پیامک در Notifier به عنوان یک Enum | اضافه‌شدن نوع جدید ارسال پیام | PayByCard از Payment ارث‌بری کرده و متد آن را پیاده‌سازی کرده | پرداخت با کارت |
| 5 | در ReservationService و متد makeReservation شرط بررسی نحوه ارسال پیام اضافه شده | کنترل روش پیام در زمان رزرو | افزودن PaymentMethod به‌صورت یک Enum (پرداخت نقدی یا کارت) | – |
| 6 | – | – | در ReservationService و متد makeReservation شرط بررسی نحوه پرداخت اضافه شده | کنترل روش پرداخت |

---

## بررسی اصول SOLID

### SRP – اصل تک‌وظیفگی  
برقراری: هر کلاس یک مسئولیت دارد.  
نقض: در ReservationService چند مسئولیت مختلف (پرداخت، پیام و رزرو) باهم انجام می‌شود.

---

### OCP – اصل باز ـ بسته  
برقراری: کلاس‌های پرداخت و ارسال پیام بدون نیاز به تغییر در کلاس‌های اصلی قابل گسترش هستند.  
نقض: در ReservationService شرط‌های وابسته به نوع پیام و پرداخت باعث نقض OCP شده‌اند.

---

### LSP – اصل جایگزینی لیسکوف  
برقراری: تمامی کلاس‌های فرزند (SendByEmail, PayByCard و ...) می‌توانند جایگزین کلاس والد شوند.  
نقض: موردی دیده نمی‌شود.

---

### ISP – اصل تفکیک رابط‌ها  
برقراری: اینترفیس‌ها کوچک، متمرکز و مشخص طراحی شده‌اند (MessageSender, Payment).  
نقض: وجود ندارد.

---

### DIP – اصل وارونگی وابستگی  
نقض: ReservationService همچنان به کلاس‌های سطح پایین وابسته است، چون مستقیماً نمونه‌سازی می‌شوند.  
برقراری: استفاده از اینترفیس‌ها پایهٔ خوبی برای رسیدن به DIP است، اما کامل اجرا نشده.

---

### PLK – اصل کم‌دانشی (Law of Demeter)  
برقراری: بسیاری از کلاس‌ها فقط با داده‌های خودشان کار می‌کنند.  
نقض: در ReservationService دسترسی‌های زنجیره‌ای به فیلدهای customer و reservation مشاهده می‌شود.

---

### CRP – اصل ترکیب در برابر ارث‌بری  
برقراری: ترکیب اشیا در طراحی رزرو درست استفاده شده و وابستگی‌های غیرضروری ایجاد نشده.  
نقض: موردی ندارد.
